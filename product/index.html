<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8 " />
<title> Lux Karaoke 2020</title>
<style type="text/css">
<!--
body {
  background-color: lightblue;
  padding:0px;
}
*{ margin:0; padding:0;border:0;}
-->
</style>
<link rel="stylesheet" type="text/css"  href="../test/css/all.css" />
<link rel="stylesheet" type="text/css"  href="../test/pro_2020.css" />
 <script src="https://unpkg.com/vue@2.6.12/dist/vue.js"></script>                 <!--- link a Vue package  -->
</head>
<body>

<div class="myDiv"> 
    <p><i class="fa fa-phone-alt"></i> &nbsp; 604 879-6399 &nbsp; &nbsp; &nbsp; &nbsp;  <i class="fas fa-home"></i> &nbsp; 1971 E 49th Ave , Vancouver, BC V5P 1T5 &nbsp; &nbsp; &nbsp; &nbsp; <i class="fa fa-envelope"></i> &nbsp; lux@luxkaraokeshop.com</p>
   </div>
<div id="banner" >LUX KARAOKE SHOP <br>   </div>
<div id="app">
    <component :is="currentView"></component>
    <detail :bacd=psk />
    {{ message }}
</div>
<div class="mydiv1"> Lux Karaoke Located in Vanocuver . We are specialist in AV Product and Karaoke equiptment more than 20 years.<br>
 We carry a large selection of top quality Home Theatre System and audio video electronics product.
 </div> 
<div id="footer2">  &copy;&nbsp;  copyright &nbsp; 2020  &nbsp;&nbsp; Gecon Technology Ltd.  &nbsp;&nbsp; All Rights Reserved  </div>
<script src="../js/navigate.js"> </script>
<script src="../js/pro-information.js"> </script>
<script type="text/javascript">
  var app = new Vue({
    el: '#app',
    data: {
      message: 'Hello Vue!',
      currentView:'gnav-bar',
      jssn:{},
      psk:[]
    },
    created: function(){
      var currentUrl = window.location.href;
      var url_string = "http://www.example.com/t.html?a=1&b=3&c=m2-m3-m4-m5";
      var url = new URL(currentUrl);
      var c = url.searchParams.get("ptc");
      console.log(c);
      this.message = "Ptcode = " + c
      console.log(currentUrl);
      const options = {}
          this.getApi(options)
    },
    methods:{
            getApi:function (options) {
                fetch('../test/jsn.json').then((response) => response.text()).then((data) => {
                               this.jssn  = JSON.parse(data) ;
                               console.log(this.jssn) ;
                            var index = this.jssn.findIndex(x => x.ptcode ==="H23322");
                            this.psk = this.jssn[index]
                            console.log(this.psk);
                       }).catch((err) => {console.log(err); });
                  return "OK"               
          }
        }  
  })
</script>

</body>
</html>
